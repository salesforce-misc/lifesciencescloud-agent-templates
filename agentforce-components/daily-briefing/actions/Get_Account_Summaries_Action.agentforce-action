{
  "actionName": "Get_Account_Summaries_Action",
  "displayName": "Get Account Summaries Action",
  "description": "Retrieves account territory summaries for visits with key information and insights",
  "version": "1.0",
  "status": "Active",
  "actionType": "Apex",
  "apexClass": "DailyBriefingAgent",
  "apexMethod": "getAccountSummaries",
  "parameters": [
    {
      "name": "visits",
      "type": "List<Visit>",
      "required": true,
      "description": "List of visits to get account summaries for",
      "source": "Get_Daily_Visits_Action.output"
    },
    {
      "name": "userTerritoryId",
      "type": "String",
      "required": true,
      "description": "User's territory ID",
      "source": "UserContext.TerritoryId"
    }
  ],
  "output": {
    "type": "List<AccountSummary>",
    "description": "List of account summaries with key information",
    "fields": [
      {
        "name": "accountId",
        "type": "String",
        "description": "Account ID"
      },
      {
        "name": "accountName",
        "type": "String",
        "description": "Account Name"
      },
      {
        "name": "accountType",
        "type": "String",
        "description": "Account Type"
      },
      {
        "name": "territoryId",
        "type": "String",
        "description": "Territory ID"
      },
      {
        "name": "territoryName",
        "type": "String",
        "description": "Territory Name"
      },
      {
        "name": "keyInformation",
        "type": "String",
        "description": "Key information summary"
      },
      {
        "name": "lastUpdated",
        "type": "DateTime",
        "description": "Last updated timestamp"
      },
      {
        "name": "priority",
        "type": "String",
        "description": "Priority level"
      },
      {
        "name": "priorityReason",
        "type": "String",
        "description": "Reason for priority"
      },
      {
        "name": "recentActivity",
        "type": "String",
        "description": "Recent activity summary"
      },
      {
        "name": "keyContacts",
        "type": "List<String>",
        "description": "Key contacts"
      },
      {
        "name": "strategicFocus",
        "type": "String",
        "description": "Strategic focus area"
      }
    ]
  },
  "errorHandling": {
    "onError": "Return empty list and log error",
    "errorMessage": "Unable to retrieve account summaries",
    "fallbackValue": "[]"
  },
  "metadata": {
    "category": "Data Retrieval",
    "tags": ["accounts", "summaries", "territory", "field-sales"],
    "lastModified": "2025-09-05T11:05:00Z",
    "createdBy": "LSC4CE Team"
  }
}